# ================================================================================================
#  üè∞ GoFortress Custom Configuration
# ================================================================================================
#
#  Purpose: Custom configuration for GoFortress, a Go project fortress.
#
#  Override Strategy:
#  - This file is used to override default settings in the GoFortress configuration.
#
# Tools:
#  - GoFortress
#  - go-broadcast
#  - go-coverage
#  - go-pre-commit
#  - MAGE-X
#  - Gitleaks, Nancy, Govulncheck
#  - GitHub Workflows (Dependabot, Stale, Sync Labels, Auto-Merge, PR Management)
#  - Redis Service (optional)
#
#  Maintainer: @mrz1836
#
# ================================================================================================

# Custom Coverage Exclusions
GO_COVERAGE_EXCLUDE_PATHS=test/,vendor/,testdata/,examples/,plans/,docs/

# Skip URL Checks in Coverage Reports (true/false)
# Speed up deployment by skipping URL checks
GO_COVERAGE_SKIP_URL_CHECKS=true

# Google Analytics Configuration (for coverage pages)
GOOGLE_ANALYTICS_ID=G-VKFVWG6GXM

# Use custom config
GITLEAKS_CONFIG_FILE=.github/.gitleaks.toml

# Custom Pre-Commit Configuration (only look at changed files)
GO_PRE_COMMIT_ALL_FILES=false

# Exclude specific tags from auto-discovery (comma-separated)
MAGE_X_AUTO_DISCOVER_BUILD_TAGS_EXCLUDE=go1,go1.18,bench_heavy,race,performance,integration

# Exclude magefiles for now, prebuild fails
MAGE_X_BUILD_EXCLUDE_PATTERN=magefiles
MAGE_X_TEST_EXCLUDE_MODULES=magefiles

# Test timeout - override default 10m to match CI configuration
# Prevents premature SIGKILL during race+coverage tests
MAGE_X_TEST_TIMEOUT=30m

# AI Generation Configuration
GO_BROADCAST_AI_ENABLED=true
GO_BROADCAST_AI_PROVIDER=anthropic
GO_BROADCAST_AI_PR_ENABLED=true
GO_BROADCAST_AI_COMMIT_ENABLED=true

# Reduce test parallelism to prevent OOM during race detection
# Default is 4, lower to 2 for memory-intensive race tests
#MAGE_X_PARALLEL=2

# Disable auto-discovery of build tags to speed up builds
#MAGE_X_AUTO_DISCOVER_BUILD_TAGS=false
